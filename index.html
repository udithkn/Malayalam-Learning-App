<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Malayalam Learning App - Professional UI/UX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Noto+Sans+Malayalam:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f3ff; /* violet-50 */
        }
        .malayalam-font {
            font-family: 'Noto Sans Malayalam', sans-serif;
        }
        /* Glassmorphism Header */
        .header-glass {
            background: linear-gradient(to right, rgba(168, 85, 247, 0.85), rgba(217, 70, 239, 0.85)); /* purple-500 to fuchsia-500 */
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        /* Card flip animation */
        .card {
            perspective: 1200px;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.7s cubic-bezier(0.25, 1, 0.5, 1);
            transform-style: preserve-3d;
        }
        .card.is-flipped .card-inner {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 0.75rem;
            padding: 1.5rem 1rem;
        }
        .card-back {
            transform: rotateY(180deg);
        }
        /* Level styles */
        .level-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s ease-in-out, padding-top 0.6s ease-in-out, padding-bottom 0.6s ease-in-out;
            padding: 0 1.5rem;
        }
        .level-container.active .level-content {
            max-height: 2000px;
            padding: 1.5rem;
            padding-top: 0.75rem;
            transition: max-height 1s ease-in-out, padding-top 0.6s ease-in-out, padding-bottom 0.6s ease-in-out;
        }
        .level-container.locked .level-header {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .level-container.active {
            box-shadow: 0 0 25px rgba(168, 85, 247, 0.5), 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border-color: #a855f7; /* purple-500 */
        }
        .level-container:not(.locked) .level-header:hover {
            background-color: #fdfcff;
        }
        .level-container {
            opacity: 0;
            transform: translateY(20px);
            animation: slideInUp 0.5s ease-out forwards;
        }
        /* Progress Circle */
        .progress-ring__circle {
            transition: stroke-dashoffset 0.8s cubic-bezier(0.6, 0, 0.4, 1);
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
        /* Animations */
        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes unlock-jiggle {
            0%, 100% { transform: rotate(0); }
            25% { transform: rotate(-8deg); }
            75% { transform: rotate(8deg); }
        }
        @keyframes fade-in {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }
        .unlock-animation .fa-lock {
            animation: unlock-jiggle 0.4s ease-in-out forwards;
        }
        .unlock-animation .fa-chevron-down {
            opacity: 0;
            transform: scale(0.8);
            animation: fade-in 0.3s 0.4s ease-out forwards;
        }
        /* Confetti */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }
        .confetti {
            position: absolute;
            width: 8px;
            height: 16px;
            top: -20px;
            opacity: 0;
            animation: fall 5s linear forwards;
        }
        @keyframes fall {
            0% { transform: translateY(0) rotateZ(0); opacity: 1; }
            100% { transform: translateY(100vh) rotateZ(720deg); opacity: 0; }
        }
    </style>
</head>
<body class="text-slate-800">

    <div id="confetti-container" class="confetti-container"></div>

    <div class="flex flex-col min-h-screen">
        <!-- Header -->
        <header class="header-glass text-white text-center py-4 shadow-lg sticky top-0 z-20">
            <h1 class="text-2xl font-bold tracking-tight">Malayalam Lessons</h1>
        </header>

        <!-- Main Content -->
        <main class="flex-grow container mx-auto max-w-2xl p-4 md:p-6">
            <!-- Progress Section -->
            <div class="bg-white rounded-2xl shadow-lg p-6 mb-8 flex items-center space-x-6 opacity-0" style="animation: slideInUp 0.5s ease-out forwards;">
                <div class="relative w-24 h-24">
                    <svg class="w-full h-full" viewBox="0 0 100 100">
                        <circle class="text-slate-200" stroke-width="10" stroke="currentColor" fill="transparent" r="45" cx="50" cy="50" />
                        <circle id="progress-circle" class="progress-ring__circle text-purple-500" stroke-width="10" stroke-linecap="round" stroke="currentColor" fill="transparent" r="45" cx="50" cy="50" />
                    </svg>
                    <div id="progress-text-circle" class="absolute inset-0 flex items-center justify-center text-xl font-extrabold text-purple-600">0%</div>
                </div>
                <div>
                    <h2 class="text-xl font-bold text-slate-800">Your Learning Journey</h2>
                    <p id="progress-text-sub" class="text-slate-500">Let's get started! Complete the first level.</p>
                </div>
            </div>

            <div id="game-mode-container" class="space-y-4">
                <!-- Levels will be injected here by JS -->
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-white text-slate-500 text-center py-4 mt-8 border-t">
            <p>Ellam sheriyaakum!</p>
        </footer>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const levelData = [
            { title: 'Part 1: Greetings & Basics', icon: 'üëã', words: [ { en: 'Hello', ml: '‡¥®‡¥Æ‡¥∏‡µç‡¥ï‡¥æ‡¥∞‡¥Ç', trans: 'Namaskaram', hi: '‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞‡§Æ‡•ç' }, { en: 'How are you?', ml: '‡¥∏‡µÅ‡¥ñ‡¥Æ‡¥æ‡¥£‡µã?', trans: 'Sukhamaano?', hi: '‡§∏‡•Å‡§ñ‡§Æ‡§æ‡§£‡•ã?' }, { en: 'I am fine', ml: '‡¥é‡¥®‡¥ø‡¥ï‡µç‡¥ï‡µç ‡¥∏‡µÅ‡¥ñ‡¥Æ‡¥æ‡¥£‡µç', trans: 'Enikku sukhamaanu', hi: '‡§è‡§®‡§ø‡§ï‡•ç‡§ï‡•Å ‡§∏‡•Å‡§ñ‡§Æ‡§æ‡§£‡•Å' }, { en: 'What is your name?', ml: '‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥™‡µá‡¥∞‡µÜ‡¥®‡µç‡¥§‡¥æ‡¥£‡µç?', trans: 'Ningalude perenthaanu?', hi: '‡§®‡§ø‡§ô‡•ç‡§ô‡§≥‡•Å‡§°‡•á ‡§™‡•á‡§∞‡•á‡§®‡•ç‡§§‡§æ‡§£‡•Å?' }, { en: 'My name is...', ml: '‡¥é‡¥®‡µç‡¥±‡µÜ ‡¥™‡µá‡¥∞‡µç...', trans: 'Ente peru...', hi: '‡§è‡§®‡•ç‡§ü‡•á ‡§™‡•á‡§∞‡•Å...' }, { en: 'Yes', ml: '‡¥Ö‡¥§‡µÜ', trans: 'Athe', hi: '‡§Ö‡§•‡•á' }, { en: 'No', ml: '‡¥á‡¥≤‡µç‡¥≤', trans: 'Illa', hi: '‡§á‡§≤‡•ç‡§≤' }, { en: 'Thank you', ml: '‡¥®‡¥®‡µç‡¥¶‡¥ø', trans: 'Nandi', hi: '‡§®‡§®‡•ç‡§¶‡§ø' }, { en: 'Sorry', ml: '‡¥ï‡µç‡¥∑‡¥Æ‡¥ø‡¥ï‡µç‡¥ï‡¥£‡¥Ç', trans: 'Kshamikka·πáam', hi: '‡§ï‡•ç‡§∑‡§Æ‡§ø‡§ï‡•ç‡§ï‡§£‡§Æ' } ] },
            { title: 'Part 2: Pronouns', subtitle: '‡§∏‡§∞‡•ç‡§µ‡§®‡§æ‡§Æ', icon: 'üë§', words: [ { en: 'I', ml: '‡¥û‡¥æ‡µª', trans: 'Njaan', hi: '‡§û‡§æ‡§® (‡§Æ‡•à‡§Ç)' }, { en: 'You (formal)', ml: '‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ', trans: 'Ningal', hi: '‡§®‡§ø‡§ô‡•ç‡§ô‡§≥ (‡§Ü‡§™)' }, { en: 'You (informal)', ml: '‡¥®‡µÄ', trans: 'Nee', hi: '‡§®‡•Ä (‡§§‡•Ç)' }, { en: 'He', ml: '‡¥Ö‡¥µ‡µª', trans: 'Avan', hi: '‡§Ö‡§µ‡§® (‡§µ‡§π)' }, { en: 'She', ml: '‡¥Ö‡¥µ‡µæ', trans: 'Aval', hi: '‡§Ö‡§µ‡§≥ (‡§µ‡§π)' }, { en: 'They', ml: '‡¥Ö‡¥µ‡µº', trans: 'Avar', hi: '‡§Ö‡§µ‡§∞ (‡§µ‡•á)' }, { en: 'We', ml: '‡¥®‡¥Æ‡µç‡¥Æ‡µæ', trans: 'Nammal', hi: '‡§®‡§Æ‡•ç‡§Æ‡§≥ (‡§π‡§Æ)' } ] },
            { title: 'Part 3: Question Words', subtitle: '‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡§µ‡§æ‡§ö‡§ï', icon: '‚ùì', words: [ { en: 'What?', ml: '‡¥é‡¥®‡µç‡¥§‡µç?', trans: 'Enthu?', hi: '‡§è‡§®‡•ç‡§•‡•Å? (‡§ï‡•ç‡§Ø‡§æ?)' }, { en: 'Where?', ml: '‡¥é‡¥µ‡¥ø‡¥ü‡µÜ?', trans: 'Evide?', hi: '‡§è‡§µ‡§ø‡§°‡•á? (‡§ï‡§π‡§æ‡§Å?)' }, { en: 'When?', ml: '‡¥é‡¥™‡µç‡¥™‡µã‡µæ?', trans: 'Eppol?', hi: '‡§è‡§™‡•ç‡§™‡•ã‡§≥? (‡§ï‡§¨?)' }, { en: 'Why?', ml: '‡¥é‡¥®‡µç‡¥§‡µÅ‡¥ï‡µä‡¥£‡µç‡¥ü‡µç?', trans: 'Enthukondu?', hi: '‡§è‡§®‡•ç‡§•‡•Å‡§ï‡•ã‡§£‡•ç‡§°‡•Å? (‡§ï‡•ç‡§Ø‡•ã‡§Ç?)' }, { en: 'Who?', ml: '‡¥Ü‡¥∞‡µç?', trans: 'Aaru?', hi: '‡§Ü‡§∞‡•Å? (‡§ï‡•å‡§®?)' }, { en: 'How?', ml: '‡¥é‡¥ô‡µç‡¥ô‡¥®‡µÜ?', trans: 'Engane?', hi: '‡§è‡§ô‡•ç‡§ó‡§®‡•á? (‡§ï‡•à‡§∏‡•á?)' } ] },
            { title: 'Part 4: Common Words', subtitle: '‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø', icon: 'üó£Ô∏è', words: [ { en: 'House', ml: '‡¥µ‡µÄ‡¥ü‡µç', trans: 'Veedu', hi: '‡§µ‡•Ä‡§°‡•Å (‡§ò‡§∞)' }, { en: 'Water', ml: '‡¥µ‡µÜ‡¥≥‡µç‡¥≥‡¥Ç', trans: 'Vellam', hi: '‡§µ‡•á‡§≥‡•ç‡§≥‡§Ç (‡§™‡§æ‡§®‡•Ä)' }, { en: 'Food', ml: '‡¥≠‡¥ï‡µç‡¥∑‡¥£‡¥Ç', trans: 'Bhakshanam', hi: '‡§≠‡§ï‡•ç‡§∑‡§£‡§Æ (‡§≠‡•ã‡§ú‡§®)' }, { en: 'Tea', ml: '‡¥ö‡¥æ‡¥Ø', trans: 'Chaaya', hi: '‡§ö‡§æ‡§Ø (‡§ö‡§æ‡§Ø)' }, { en: 'Rice', ml: '‡¥ö‡µã‡¥±‡µç', trans: 'Choru', hi: '‡§ö‡•ã‡§∞‡•Å (‡§ö‡§æ‡§µ‡§≤)' }, { en: 'Shop', ml: '‡¥ï‡¥ü', trans: 'Kada', hi: '‡§ï‡§°‡§æ (‡§¶‡•Å‡§ï‡§æ‡§®)' } ] },
            { title: 'Part 5: Numbers', subtitle: '‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ', icon: 'üî¢', words: [ { en: '1', ml: '‡¥í‡¥®‡µç‡¥®‡µç', trans: 'Onnu', hi: '‡§ì‡§®‡•ç‡§®‡•Å' }, { en: '2', ml: '‡¥∞‡¥£‡µç‡¥ü‡µç', trans: 'Randu', hi: '‡§∞‡§£‡•ç‡§°‡•Å' }, { en: '3', ml: '‡¥Æ‡µÇ‡¥®‡µç‡¥®‡µç', trans: 'Moonu', hi: '‡§Æ‡•Ç‡§®‡•Å' }, { en: '4', ml: '‡¥®‡¥æ‡¥≤‡µç', trans: 'Naalu', hi: '‡§®‡§æ‡§≤‡•Å' }, { en: '5', ml: '‡¥Ö‡¥û‡µç‡¥ö‡µç', trans: 'Anju', hi: '‡§Ö‡§û‡•ç‡§ö‡•Å' }, { en: '6', ml: '‡¥Ü‡¥±‡µç', trans: 'Aaru', hi: '‡§Ü‡§∞‡•Å' }, { en: '7', ml: '‡¥è‡¥¥‡µç', trans: 'Ezhu', hi: '‡§è‡§¥‡•Å' }, { en: '8', ml: '‡¥é‡¥ü‡µç‡¥ü‡µç', trans: 'Ettu', hi: '‡§è‡§ü‡•ç‡§ü‡•Å' }, { en: '9', ml: '‡¥í‡µª‡¥™‡¥§‡µç', trans: 'Onpathu', hi: '‡§ì‡§®‡•ç‡§™‡§•‡•Å' }, { en: '10', ml: '‡¥™‡¥§‡µç‡¥§‡µç', trans: 'Pathu', hi: '‡§™‡§§‡•ç‡§§‡•Å' } ] }
        ];

        const container = document.getElementById('game-mode-container');
        const progressCircle = document.getElementById('progress-circle');
        const progressTextCircle = document.getElementById('progress-text-circle');
        const progressTextSub = document.getElementById('progress-text-sub');
        const radius = progressCircle.r.baseVal.value;
        const circumference = radius * 2 * Math.PI;
        progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
        progressCircle.style.strokeDashoffset = circumference;

        function setProgress(percent) {
            const offset = circumference - percent / 100 * circumference;
            progressCircle.style.strokeDashoffset = offset;
            progressTextCircle.textContent = `${Math.round(percent)}%`;
        }

        function createCard(word) {
            return `
                <div class="card cursor-pointer group h-40">
                    <div class="card-inner">
                        <div class="card-front bg-white shadow-md border border-slate-200 group-hover:shadow-xl group-hover:-translate-y-1.5 transition-all duration-300">
                            <p class="text-xl font-semibold text-slate-700 text-center px-2">${word.en}</p>
                            <i class="fas fa-sync-alt text-slate-300 mt-4 group-hover:rotate-180 transition-transform duration-500"></i>
                        </div>
                        <div class="card-back bg-purple-500 text-white shadow-lg">
                            <p class="text-2xl font-bold malayalam-font px-4 break-words">${word.ml}</p>
                            <p class="italic text-purple-100">${word.trans}</p>
                            <p class="mt-1 text-purple-200 text-sm">(${word.hi})</p>
                        </div>
                    </div>
                </div>`;
        }
        
        levelData.forEach((level, index) => {
            const isFirst = index === 0;
            const levelState = isFirst ? 'active' : 'locked';
            const cardGridHtml = level.words.map(createCard).join('');
            const mainTitle = level.title.split(':')[0];
            const subTitle = level.title.split(':')[1] || level.subtitle || '';

            const levelElement = document.createElement('div');
            levelElement.id = `level-${index + 1}`;
            levelElement.className = `level-container bg-white rounded-2xl border-2 border-transparent shadow-md overflow-hidden transition-all duration-500 ${levelState}`;
            levelElement.style.animationDelay = `${index * 100 + 100}ms`;
            levelElement.innerHTML = `
                <div class="level-header flex justify-between items-center p-5 cursor-pointer">
                    <div class="flex items-center space-x-5">
                        <span class="text-3xl">${level.icon}</span>
                        <div>
                            <h3 class="text-lg font-bold text-slate-800">${mainTitle}</h3>
                            <p class="text-sm text-slate-500">${subTitle}</p>
                        </div>
                    </div>
                    <span class="status-icon text-2xl text-slate-400 transition-transform duration-500">
                        ${isFirst ? '<i class="fas fa-chevron-down"></i>' : '<i class="fas fa-lock"></i>'}
                    </span>
                </div>
                <div class="level-content bg-slate-50 border-t border-slate-200/80">
                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6">
                        ${cardGridHtml}
                    </div>
                    <div class="text-center complete-btn-wrapper py-2">
                        <button class="complete-btn bg-purple-500 text-white font-bold py-3 px-8 rounded-full hover:bg-purple-600 shadow-lg hover:shadow-xl transform hover:-translate-y-1 active:translate-y-0 active:shadow-md transition-all duration-300" data-level="${index + 1}">
                            <i class="fas fa-check mr-2"></i> Mark as Complete
                        </button>
                    </div>
                </div>`;
            container.appendChild(levelElement);
        });

        function updateProgress() {
            const completedLevels = document.querySelectorAll('.level-container.completed').length;
            const totalLevels = levelData.length;
            const percentage = totalLevels > 0 ? (completedLevels / totalLevels) * 100 : 0;
            
            setProgress(percentage);
            
            if (percentage === 100) {
                progressTextSub.textContent = "Congratulations! You've completed all levels!";
                launchConfetti();
            } else {
                progressTextSub.textContent = `You've completed ${completedLevels} of ${totalLevels} levels.`;
            }
        }

        container.addEventListener('click', function(e) {
            const completeButton = e.target.closest('.complete-btn');
            if (completeButton) {
                const currentLevelNum = parseInt(completeButton.dataset.level);
                const currentLevelEl = document.getElementById(`level-${currentLevelNum}`);
                const nextLevelEl = document.getElementById(`level-${currentLevelNum + 1}`);

                currentLevelEl.classList.remove('active');
                currentLevelEl.classList.add('completed');
                currentLevelEl.querySelector('.status-icon').innerHTML = '<i class="fas fa-check-circle text-purple-500"></i>';
                
                const btnWrapper = completeButton.parentElement;
                btnWrapper.style.transition = 'opacity 0.5s, transform 0.5s';
                btnWrapper.style.opacity = '0';
                btnWrapper.style.transform = 'scale(0.8)';
                setTimeout(() => btnWrapper.remove(), 500);
                
                updateProgress();

                if (nextLevelEl) {
                    const statusIcon = nextLevelEl.querySelector('.status-icon');
                    statusIcon.classList.add('unlock-animation');
                    statusIcon.innerHTML = '<i class="fas fa-lock"></i>';
                    
                    setTimeout(() => {
                        nextLevelEl.classList.remove('locked');
                        nextLevelEl.classList.add('active');
                        statusIcon.innerHTML = '<i class="fas fa-chevron-down"></i>';
                        statusIcon.classList.remove('unlock-animation');
                        nextLevelEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }, 700);
                }
            }

            const header = e.target.closest('.level-header');
            if (header) {
                const parentContainer = header.parentElement;
                if (!parentContainer.classList.contains('locked')) {
                    const wasActive = parentContainer.classList.contains('active');
                    document.querySelectorAll('.level-container.active').forEach(el => {
                        if (el !== parentContainer) el.classList.remove('active');
                    });
                    parentContainer.classList.toggle('active');
                }
            }
            
            const card = e.target.closest('.card');
            if (card) {
                card.classList.toggle('is-flipped');
            }
        });
        
        function launchConfetti() {
            const confettiContainer = document.getElementById('confetti-container');
            const colors = ['#a855f7', '#d946ef', '#f472b6', '#fbbf24', '#ec4899'];
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = `${Math.random() * 2}s`;
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                confettiContainer.appendChild(confetti);

                setTimeout(() => confetti.remove(), 5000);
            }
        }
        
        // Initial load
        setTimeout(() => {
            updateProgress();
        }, 100);
    });
    </script>
</body>
</html>
